name: 'Envato Publisher'
description: 'Github Action Which Publishes Final Source Code To Envato FTP'
author: 'varunsridharan'
branding:
  icon: 'hard-drive'
  color: 'green'
inputs:
  envato_username:
    description: 'Envato.com Account Username'
    default: ''
  envato_personal_token:
    description: 'Envato.com Account Personal Access Token'
    default: ''
  custom_command:
    description: 'Some plugins tend to have a different folder inside git repository where the source files are kept aside from development files. If provided files will be copied from CUSTOM_PATH to plugin trunk.'
    default: ''
  exclude_list:
    description: 'Add file / folders that you wish to exclude from final list of files to be sent to ftp. Eg development files. Final value of this var is expected to be a string delimited with spaces. Eg: ".gitignore package.json README.md" Please Note, excluded file/folder path, is considered from the root of repository unless CUSTOM_PATH is provided, in which case excluded file/folder path should be relative to the final source of files.'
    default: ''

runs:
  using: 'docker'
  image: 'Dockerfile'
  args:
    - ${{ inputs.envato_username }}
    - ${{ inputs.envato_personal_token }}
    - ${{ inputs.custom_command }}
    - ${{ inputs.exclude_list }}
